{
  "hash": "870aac5ebdb999196fafd38858cac457",
  "result": {
    "markdown": "---\ntitle: \"Getting Started with R using a real dataset\"\nauthor: \"Donnovan Young II\"\ndate: \"2024-12-02\"\ncategories: [Data Analysis]\n---\n\n\nThe first thing needed is to load in some of the packages that are going to be needed. Then we need to load into the dataset by using dataset from the  caret package\n\nIts important to know what the variables are in the dataset so the names function allows you to see each one.\n\n\n::: {.cell}\n\n:::\n\n\nIn this short example, I wanted to use a Random Forest model to help determine what the variable of most importance is to predict the Price.\n\nFirst we split the data set into two sections, training and test. In this example we only use the training data set.\n\nNow it is time to run the random forest model, as seen below the target is “Price” and we are using all of the variables within the data set.\n\nOnce the model is ran, we want to strip out the feature of importance from the random forest model.\n\nMore useful variables achieve higher increases in node purities, In this case the highest number in importance is the Cylinder variable\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- dfdata\n\n# Set the seed for reproducibility\nset.seed(2367)\n\n\n# Split the data into training and testing sets\nresponse_variable <- \"Price\"\ntrainIndex <- createDataPartition(y = cars[[response_variable]], p = 0.7, list = FALSE)\ntrain_data <- cars[trainIndex, ]\ntest_data <- cars[-trainIndex, ]\n\n# Train a random forest model\nrf_model <- randomForest(Price~ ., data = train_data)\n\n# Extract feature importance\nimportance <- importance(rf_model)\n\n# Print feature importance\nprint(importance)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            IncNodePurity\nMileage        1862506923\nCylinder      15725523426\nDoors           845025737\nCruise         2659354675\nSound           286488785\nLeather         340984966\nBuick           330324851\nCadillac      11727645871\nChevy          2392027827\nPontiac        1118985162\nSaab           5716123437\nSaturn          628570049\nconvertible    5377614962\ncoupe           441701915\nhatchback       153284263\nsedan           703391627\nwagon           123401261\n```\n:::\n\n```{.r .cell-code}\n# Visualize feature importance\nvarImpPlot(rf_model)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\nI was very curious to see what the correlation between the lowest and the highest values in the IncNodePurity\n\nI created a scatter plot and ran the correlation amount for both Cylinder and wagon to show the relationship to Price.\n\nYou can clearly see that Cylinder had the higher correlation to Price!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorrelation1 <- cor(cars$Price, cars$Cylinder)\n\ncorrelation2 <- cor(cars$Price, cars$wagon)\n\ncat(\" Price and Cylinder\", correlation1, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Price and Cylinder 0.5690861 \n```\n:::\n\n```{.r .cell-code}\ncat(\" Price and wagon\", correlation2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Price and wagon 0.04513386\n```\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}